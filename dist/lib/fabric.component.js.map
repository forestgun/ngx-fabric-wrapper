{"version":3,"file":"fabric.component.js","sourceRoot":"","sources":["../../src/lib/fabric.component.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EACD,KAAK,EAAE,MAAM,EAAE,YAAY,EAC1C,SAAS,EAAE,WAAW,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAIrD;IAgFE;QAxEQ,SAAI,GAAQ,IAAI,CAAC;QAOhB,SAAI,GAAkB,IAAI,CAAC;QAE3B,UAAK,GAAkB,IAAI,CAAC;QAC5B,WAAM,GAAkB,IAAI,CAAC;QAE7B,aAAQ,GAAY,KAAK,CAAC;QAK1B,mBAAc,GAAY,IAAI,CAAC;QAE9B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QAErC,SAAI,GAAG,IAAI,YAAY,EAAO,CAAC;QAC/B,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QAEpC,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAClC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAC1C,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAE1C,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAClC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QACpC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAC1C,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAE1C,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAEtC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,mBAAc,GAAG,IAAI,YAAY,EAAO,CAAC;QACzC,mBAAc,GAAG,IAAI,YAAY,EAAO,CAAC;QACzC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,mBAAc,GAAG,IAAI,YAAY,EAAO,CAAC;QAEzC,qBAAgB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC3C,qBAAgB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC3C,qBAAgB,GAAG,IAAI,YAAY,EAAO,CAAC;QAE3C,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAC1C,2BAAsB,GAAG,IAAI,YAAY,EAAO,CAAC;IAI5C,CAAC;IAtEhB,sBACI,iCAAI;;;;;QADR,UACS,IAAY;YACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC;;;OAAA;;;;IAqED,yCAAe;;;IAAf;QACE,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC/B;IACH,CAAC;;;;;;;IAEO,iCAAO;;;;;;IAAf,UAAgB,IAAY,EAAE,KAAe;QAA7C,iBAYC;QAXC,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;YAC/B,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI;;;gBAAE;oBACnC,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE;wBACnD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC;qBAClD;gBACH,CAAC,EAAC,CAAC;aACJ;YAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SAClB;IACH,CAAC;;gBApGF,SAAS,SAAC;oBACT,QAAQ,EAAE,QAAQ;oBAClB,QAAQ,EAAE,WAAW;oBACrB,m8BAAmD;oBAEnD,aAAa,EAAE,iBAAiB,CAAC,IAAI;;iBACtC;;;;;uBAIE,KAAK;uBAKL,KAAK;wBAEL,KAAK;yBACL,KAAK;2BAEL,KAAK;yBAEL,KAAK;iCAEL,WAAW,SAAC,cAAc,cAC1B,KAAK;6BAEL,MAAM;uBAEN,MAAM;2BACN,MAAM;4BACN,MAAM;4BACN,MAAM;0BAEN,MAAM;4BACN,MAAM;4BACN,MAAM;2BACN,MAAM;4BACN,MAAM;6BACN,MAAM;gCACN,MAAM;gCACN,MAAM;kCACN,MAAM;kCACN,MAAM;0BAEN,MAAM;4BACN,MAAM;4BACN,MAAM;2BACN,MAAM;4BACN,MAAM;gCACN,MAAM;gCACN,MAAM;kCACN,MAAM;kCACN,MAAM;8BAEN,MAAM;8BACN,MAAM;8BAEN,MAAM;8BACN,MAAM;+BACN,MAAM;+BACN,MAAM;gCACN,MAAM;gCACN,MAAM;iCACN,MAAM;iCACN,MAAM;+BACN,MAAM;gCACN,MAAM;gCACN,MAAM;iCACN,MAAM;mCAEN,MAAM;mCACN,MAAM;mCACN,MAAM;kCAEN,MAAM;yCACN,MAAM;+BAEN,SAAS,SAAC,eAAe,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;IAuB9C,sBAAC;CAAA,AArGD,IAqGC;SA9FY,eAAe;;;;;;IAC1B,+BAAyB;;IAOzB,+BAAoC;;IAEpC,gCAAqC;;IACrC,iCAAsC;;IAEtC,mCAAmC;;IAEnC,iCAAwC;;IAExC,yCACwC;;IAExC,qCAA+C;;IAE/C,+BAAyC;;IACzC,mCAA6C;;IAC7C,oCAA8C;;IAC9C,oCAA8C;;IAE9C,kCAA4C;;IAC5C,oCAA8C;;IAC9C,oCAA8C;;IAC9C,mCAA6C;;IAC7C,oCAA8C;;IAC9C,qCAA+C;;IAC/C,wCAAkD;;IAClD,wCAAkD;;IAClD,0CAAoD;;IACpD,0CAAoD;;IAEpD,kCAA4C;;IAC5C,oCAA8C;;IAC9C,oCAA8C;;IAC9C,mCAA6C;;IAC7C,oCAA8C;;IAC9C,wCAAkD;;IAClD,wCAAkD;;IAClD,0CAAoD;;IACpD,0CAAoD;;IAEpD,sCAAgD;;IAChD,sCAAgD;;IAEhD,sCAAgD;;IAChD,sCAAgD;;IAChD,uCAAiD;;IACjD,uCAAiD;;IACjD,wCAAkD;;IAClD,wCAAkD;;IAClD,yCAAmD;;IACnD,yCAAmD;;IACnD,uCAAiD;;IACjD,wCAAkD;;IAClD,wCAAkD;;IAClD,yCAAmD;;IAEnD,2CAAqD;;IACrD,2CAAqD;;IACrD,2CAAqD;;IAErD,0CAAoD;;IACpD,iDAA2D;;IAE3D,uCAA6E","sourcesContent":["import { Component,\n  AfterViewInit, Input, Output, EventEmitter,\n  ViewChild, HostBinding, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDirective } from './fabric.directive';\n\nimport { FabricConfigInterface } from './fabric.interfaces';\n\n@Component({\n  selector: 'fabric',\n  exportAs: 'ngxFabric',\n  templateUrl: '../../dist/lib/fabric.component.html',\n  styleUrls: [ '../../dist/lib/fabric.component.css' ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FabricComponent implements AfterViewInit {\n  private json: any = null;\n\n  @Input()\n  set data(data: string) {\n    this.setJSON(data);\n  }\n\n  @Input() zoom: number | null = null;\n\n  @Input() width: number | null = null;\n  @Input() height: number | null = null;\n\n  @Input() disabled: boolean = false;\n\n  @Input() config?: FabricConfigInterface;\n\n  @HostBinding('class.fabric')\n  @Input() useFabricClass: boolean = true;\n\n  @Output() dataLoaded = new EventEmitter<any>();\n\n  @Output() drop = new EventEmitter<any>();\n  @Output() dragover = new EventEmitter<any>();\n  @Output() dragenter = new EventEmitter<any>();\n  @Output() dragleave = new EventEmitter<any>();\n\n  @Output() mouseup = new EventEmitter<any>();\n  @Output() mousedown = new EventEmitter<any>();\n  @Output() mouseover = new EventEmitter<any>();\n  @Output() mouseout = new EventEmitter<any>();\n  @Output() mousemove = new EventEmitter<any>();\n  @Output() mousewheel = new EventEmitter<any>();\n  @Output() mousedblclick = new EventEmitter<any>();\n  @Output() mouseupBefore = new EventEmitter<any>();\n  @Output() mousedownBefore = new EventEmitter<any>();\n  @Output() mousemoveBefore = new EventEmitter<any>();\n\n  @Output() mouseUp = new EventEmitter<any>();\n  @Output() mouseDown = new EventEmitter<any>();\n  @Output() mouseOver = new EventEmitter<any>();\n  @Output() mouseOut = new EventEmitter<any>();\n  @Output() mouseMove = new EventEmitter<any>();\n  @Output() mouseDblclick = new EventEmitter<any>();\n  @Output() mouseUpBefore = new EventEmitter<any>();\n  @Output() mouseDownBefore = new EventEmitter<any>();\n  @Output() mouseMoveBefore = new EventEmitter<any>();\n\n  @Output() pathCreated = new EventEmitter<any>();\n  @Output() alterRender = new EventEmitter<any>();\n\n  @Output() objectAdded = new EventEmitter<any>();\n  @Output() objectMoved = new EventEmitter<any>();\n  @Output() objectScaled = new EventEmitter<any>();\n  @Output() objectSkewed = new EventEmitter<any>();\n  @Output() objectRotated = new EventEmitter<any>();\n  @Output() objectRemoved = new EventEmitter<any>();\n  @Output() objectModified = new EventEmitter<any>();\n  @Output() objectSelected = new EventEmitter<any>();\n  @Output() objectMoving = new EventEmitter<any>();\n  @Output() objectScaling = new EventEmitter<any>();\n  @Output() objectSkewing = new EventEmitter<any>();\n  @Output() objectRotating = new EventEmitter<any>();\n\n  @Output() selectionCleared = new EventEmitter<any>();\n  @Output() selectionCreated = new EventEmitter<any>();\n  @Output() selectionUpdated = new EventEmitter<any>();\n\n  @Output() beforeTransform = new EventEmitter<any>();\n  @Output() beforeSelectionCleared = new EventEmitter<any>();\n\n  @ViewChild(FabricDirective, { static: true }) directiveRef?: FabricDirective;\n\n  constructor() {}\n\n  ngAfterViewInit(): void {\n    if (this.json != null) {\n      this.setJSON(this.json, true);\n    }\n  }\n\n  private setJSON(json: string, force?: boolean): void {\n    if (force || json !== this.json) {\n      if (this.directiveRef) {\n        this.directiveRef.loadFromJSON(json, () => {\n          if (this.directiveRef && this.directiveRef.fabric()) {\n            this.dataLoaded.emit(this.directiveRef.fabric());\n          }\n        });\n      }\n\n      this.json = json;\n    }\n  }\n}\n"]}